<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<link href="styles.css" rel="stylesheet" />
		<title>Тема 6</title>
	</head>
	<body>
		<table class="header">
			<tr>
				<td width="15%" align="center">
					<img src="images/logo_left.png" width="97" height="117" />
				</td>
				<td width="70%" align="center" valign="middle">
					<h1 align="center">Электронный ресурс по учебной дисциплине<br />"Введение в компьютерные системы и сети"<br />для специальности:<br />1–39 03 02 Программируемые мобильные системы</h1>
				</td>
				<td width="15%"></td>
			</tr>
			<tr>
				<td align="center" valign="middle" colspan="3">
					<a href="../index.html">Оглавление</a> | <a href="../Программа/program.html">Программа</a> | <a href="theory.html">Теория</a> | <a href="../Практика/practice.html">Практика</a> | <a href="../Контроль/test.html">Контроль знаний</a> | <a href="../Об авторах/author.html">Об авторах</a>
				</td>
			</tr>
		</table>
		
					<nav>
			<div class="header">
				<a href="../index.html">Оглавление</a>
			</div>
			<ul class="dd">
				<li>
					<a href="../Программа/program.html">Программа</a>
				</li>
				<li class="dir">
					<a href="../Теория/theory.html">Теория</a>
					<ul>
						<li class="dir">
							<a href="../Теория/introduction.html">Введение</a>
							<ul>
								<li>
									<a href="../Теория/introduction.html">Лекция 1</a>
								</li>
							</ul>
						</li>
						<li class="dir" title="Сети Ethernet и стек протоколов TCP/IP">
							<a href="../Теория/chapter_01.html">Раздел 1</a>
							<ul>
								<li class="dir" title="Сетевые протоколы и стандарты. Физический и канальный уровни">
									<a href="../Теория/chapter_01.html">Тема 1</a>
									<ul>
										<li>
											<a href="../Теория/chapter_01.html#lec2">Лекция 2</a>
										</li>
									</ul>
								</li>
								<li class="dir"
									title="Протоколы сетевого уровня. Сетевые коммутаторы и маршрутизаторы">
									<a href="../Теория/chapter_02.html">Тема 2</a>
									<ul>
										<li>
											<a href="../Теория/chapter_02.html#lec3">Лекция 3</a>
										</li>
									</ul>
								</li>
								<li class="dir" title="Протоколы TCP и UDP">
									<a href="../Теория/chapter_03.html">Тема 3</a>
									<ul>
										<li>
											<a href="../Теория/chapter_03.html#lec4">Лекция 4</a>
										</li>
									</ul>
								</li>
							</ul>
						</li>
						<li class="dir" title="Сетевая адресация">
							<a href="../Теория/chapter_04.html">Раздел 2</a>
							<ul>
								<li class="dir"
									title="Сетевые адреса IPv4 и IPv6">
									<a href="../Теория/chapter_04.html">Тема 4</a>
									<ul>
										<li>
											<a href="../Теория/chapter_04.html#lec5">Лекция 5</a>
										</li>
									</ul>
								</li>						

								<li class="dir" title="Организация подсетей сетей IPv4 и IPv6">
									<a href="../Теория/chapter_05.html">Тема 5</a>
									<ul>
										<li>
											<a href="../Теория/chapter_05.html#lec6">Лекция 6</a>
										</li>
										<li>
											<a href="../Теория/chapter_05.html#lec7">Лекция 7</a>
										</li>

									</ul>
								</li>
							</ul>
						</li>
						<li class="dir" title="Уровень приложений модели OSI">
							<a href="../Теория/chapter_06.html">Раздел 3</a>
							<ul>
								<li class="dir" title="Протоколы уровня приложения. Диагностика сети">
									<a href="../Теория/chapter_06.html">Тема 6</a>
									<ul>
										<li>
											<a href="../Теория/chapter_06.html#lec8">Лекция 8</a>
										</li>
									</ul>
								</li>
								<li class="dir"
									title="Основы обеспечения безопасности сети">
									<a href="../Теория/chapter_07.html">Тема 7</a>
									<ul>
										<li>
											<a href="../Теория/chapter_07.html#lec9">Лекция 9</a>
										</li>

									</ul>
								</li>
							</ul>
						</li>						
						
						<li>
							<a href="../Теория/literature.html">Литература</a>
						</li>
					</ul>
				</li>
				<li class="dir">
					<a href="../Практика/practice.html">Практика</a>
					<ul>
						<li class="dir">
							<a href="../Практика/practice.html">Лабораторные</a>
							<ul>
								<li>
									<a href="../Практика/lab_01.html">Работа №1</a>
								</li>
								<li>
									<a href="../Практика/lab_02.html">Работа №2</a>
								</li>
								<li>
									<a href="../Практика/lab_03.html">Работа №3</a>
								</li>
								<li>
									<a href="../Практика/lab_04.html">Работа №4</a>
								</li>
							</ul>
						</li>
						
						
					</ul>
				</li>
				<li>
					<a href="../Контроль/test.html">Контроль знаний</a>
				</li>
			</ul>
		</nav>
		
		
		
		
		<section>
			<h1>Раздел 3. Уровень приложений модели OSI</h1>
			<h2>Тема 6. Протоколы уровня приложения. Диагностика сети</h2>
			
			<a id="lec8"></a>
			<h3>Лекция 8</h3>
			<p>Всемирная сеть Интернет позволяет нам просматривать потоковое видео, играть в онлайн-игры, интерактивно общаться с друзьями и вести электронную переписку, совершать покупки на веб-сайтах. Приложения, которые обеспечивают работу упомянутых выше сервисов, предоставляют пользователю интерфейс для работы с сетью на более высоком уровне. Они позволяют нам отправлять и принимать данные с относительной лёгкостью. Обычно мы используем такие приложения, не понимая принципов их работы. Однако для специалистов по сетям важно знать, каким образом приложение может отформатировать, передать и интерпретировать сообщения, отправляемые и принимаемые в сети.</p>
			
			
			
			
			
			
<p class="termin"><b>SNMP</b> (<b>Simple Network Management Protocol</b>, сегодня SNMPv3) – протокол прикладного уровня, предназначенный для обмена информацией управления между сетевыми устройствами.</p>
			<p>На протокол SNMP повлияли следующие разработки:</p>
			<ul>
			<li><i>HEMS (High-level Entity Management System, RFC</i> 1021, октябрь 1987 г.) – система управления высокоуровневых объектов. К сожалению, HEMS ис-пользовалась только в местах её разработки, что в конечном итоге привело к прекращению существования.</li>
			<li><i>SGMP (Simple Gateway Monitoring Protocol, RFC</i> 1028, ноябрь 1987 г.) – протокол управления простым маршрутизатором (шлюзом). SGMP был реализован во многих региональных ветвях <i>Internet</i>.</li>
			<li><i>CMIP over TCP (CMOT, Common Management Information Protocol, RFC</i> 1095, апрель 1989 г.) – реализация сетевого управления, базирующегося на модели OSI, представляющее собой применение <i>CMIP</i> для управления <i>ТСР</i>-сетей.</li>
			</ul>
			<p>Сегодня <i>SNMP</i> (<i>RFC</i> 3411, <i>RFC</i> 3418) является самым популярным протоколом управления объединёнными сетями. Деятельность по стандартизации, связанная с <i>SNMP</i>, продолжается по мере того, как поставщики разрабатывают и выпускают очередные прикладные программы управления, базирующиеся на <i>SNMP</i>.</p>
			<p>Управляемые протоколом SNMP сети состоят из трёх ключевых компонентов:</p>
			<p>1) <i>Управляемое устройство.</i> Управляемые устройства представляют собой любой вид хоста: маршрутизатор, сервер доступа, коммутаторы, мост, концентратор, IP-телефон, IP-видеокамера, компьютер, принтер и т.п.</p>
			<p>2) <i>Агент (agent)</i> – программное обеспечение, запускаемое на управляемом устройстве.</p>
			<p>3) <i>Система сетевого управления</i> (<i>Network Management System, NMS</i>; в некоторой литературе называется <i>SNMP-менеджером</i>) – программное обеспечение, использующееся сетевыми администраторами и отражающее состояние сети.</p>
			<p>В управляемой сети может быть <i>одна или несколько NMS</i>. Взаимодействие между управляемыми устройствами и NMS осуществляется посредством SNMP и представляет собой систему «запрос-ответ» (рисунок 6.1).</p>
						<div class="image" style="margin:20px 0;">
				<a id="img6.1"></a>
				<img width="100%" align="center" src="images/img6.1.png" />
				<p>Рисунок 6.1 - Схема управляемой SNMP-сети.</p>
			</div>
			
			<p>Управляемые устройства имеют ряд изменяемых характеристик, с помощью которых возможно изменять параметры сети. Для сбора информации <i>NMS</i> формирует и отправляет управляемому устройству запрос (<i>request</i>), а управляемое устройство отправляет обратно ответ (<i>response</i>), содержащий нужную информацию. Для управления сетью NMS отправляет запрос с указанием об изменении значения одной из его характеристик.</p>
			<p>В SNMPv1 (RFC 1157) указано пять основных типов PDU:</p>
			<p>1 – <i><b>GetNextRequest</b></i> (итерационный запрос от NMS к объекту для об-наружения доступных характеристик и их значений; NMS будет возвращён Response со списком характеристик);</p>
			<p>2 – <i><b>SetRequest</b></i> (запрос от NMS к управляемому устройству для изме-нения значения одной или списка характеристик; NMS будет возвращён Response с новыми значениями);</p>
			<p>3 – <i><b>Response</b></i> (ответ, содержащий характеристики и значения от агента для GetRequest, SetRequest, GetNextRequest; изначально PDU назывался GetResponse);</p>
			<p>4 – <i><b>TRAP</b></i> (асинхронное уведомление от агента NMS).</p>
			<br>
			<p>В SNMPv2 (RFC 1441, RFC 1442) были введены ещё два типа PDU:</p>
			<p>5 – <i><b>GetBulkRequest</b></i> (улучшенная версия GetNextRequest; запрос от NMS к объекту для многочисленных итераций GetNextRequest; NMS будет возвращён Response с несколькими харакетристиками);</p>
			<p>6 – <i><b>InformRequest</b></i> (асинхронное уведомление от NMS к NMS или от агента к NMS; является аналогом Tramp, но предполагает ответ в виде Response, повторяющим всю информацию из InformRequest).</p>
			<p>SNMPv2 пересматривает SNMPv1 и включает в себя улучшения в области производительности, безопасности, конфиденциальности и взаимодействию между NMS. Однако система управления сетью на основе SNMPv2 так и не получила широкое распространение, так как была слишком сложной.</p>
			<p>SNMPv2u (RFC 1909, RFC 1910) – это компромисс, который предла-гает более высокую, чем в SNMPv1, безопасность, но без излишней сложности, характерной для SNMPv2. Механизм SNMPv2 в итоге был принят в качестве структуры безопасности в SNMPv3 (RFC 3411, RFC 3418).</p>
			<p>Сообщения SNMP состоят из 2 частей: SNMP-заголовка и данных (PDU).</p>
									<div class="image" style="margin:20px 0;">
				<a id="img6.2"></a>
				<img width="100%" align="center" src="images/img6.2.png" />
				<p>Рисунок 6.2 - Схема управляемой SNMP-сети.</p>
			</div>
			
			<p>Поле <i>версия</i> содержит значение, равное номеру версии SNMP минус один. Поле <i>пароль</i> (community – определяет группу доступа) содержит последовательность символов, которая является пропуском при взаимодействии NMS и управляемого устройства (обычно это поле содержит 6-байтовую строку «public», что означает общедоступность). <i>Идентификатор запроса</i> устанавливается NMS и позволяет связывать в пары запросы и ответы. Поле <i>статус ошибки</i> характеризуется целым числом, присланным объектом (0 – ошибок нет (no error), 1 – объект не может уложить ответ в одно сообщение (too big), 2 – в запросе указана неизвестная характеристика (no such name), 3 – в SetRequest использована недопустимая величина или неправильный синтаксис (bad value), 4 – NMS попыталось изменить константу (read only), 5 – прочие ошибки).</p>
			<p class="paragraph">SMTP (Simple Mail Transfer Protocol), POP3 () и IMAP ()</p>
			<p>Одна из основных услуг, предлагаемых интернет-провайдерами, — это размещение серверов электронной почты. Электронная почта радикально изменила способы общения между пользователями благодаря её удобству и скорости передачи данных. Но для того чтобы электронная почта заработала на компьютере или другом оконечном устройстве, необходим ряд приложений и сервисов.</p>
			<p>Клиенты электронной почты для отправки и получения сообщений обращаются к серверам электронной почты. Серверы электронной почты взаимодействуют с другими серверами электронной почты для обмена сообщениями между доменами. Почтовый клиент не соединяется непосредственно с другим почтовым клиентом для отправки сообщения. Оба клиента должны доверить транспортировку сообщений серверу электронной почты. Это верно даже в том случае, если оба пользователя находятся в одном домене.</p>
			<div class="image" style="margin:20px 0;">
				<a id="img6.3"></a>
				<img  align="center" src="images/img6.3.png" />
				<p>Рисунок 6.3</p>
			</div>
		<p>Клиенты электронной почты отправляют сообщения на сервер, указанный в настройках приложения. Получив сообщение, сервер проверяет, присутствует ли указанный в нём домен получателя в локальной базе данных сервера. Если домен отсутствует в базе данных, сервер отправляет запрос DNS, чтобы определить IP-адрес почтового сервера почты в домене получателя. Электронная почта затем пересылается на соответствующий сервер.</p>
		<div class="image" style="margin:20px 0;">
				<a id="img6.4"></a>
				<img  align="center" src="images/img6.4.png" />
				<p>Рисунок 6.4</p>
			</div>
		<p>Для работы с электронной почтой используются три отдельных протокола: SMTP, POP и IMAP. В процессе уровня приложений, при котором выполняется отправка почты, используется протокол SMTP. Это происходит при отправке сообщений от клиента на сервер, а также при отправке с одного сервера на другой.</p>
		<p class="termin"><b>SMTP (Simple Mail Transfer Protocol) </b> – сетевой протокол прикладного уровня, предназначенный для передачи электронной почты в сетях TCP/IP.</p>
		<p>Однако получение электронной почты клиентом выполняется по одному из двух протоколов уровня приложений: POP или IMAP.</p>
		<p>Протокол SMTP используется для надёжной и эффективной передачи электронной почты. Для нормальной работы SMTP-приложения требуется, чтобы почтовые сообщения были правильно отформатированы, а на клиенте и сервере должны быть загружены процессы SMTP.</p>
		<p>В формате SMTP сообщение состоит из заголовка и тела сообщения. Если тело сообщения может содержать текст произвольной длины, то заголовок должен содержать адреса электронной почты получателя и отправителя в правильном формате. Все другие элементы заголовка являются необязательными.</p>
		<p>Когда клиент отправляет сообщение электронной почты, процесс SMTP-клиента подключается к процессу SMTP-сервера на широко известном порте 25. Установив соединение, клиент пытается отправить по нему сообщение электронной почты серверу. Когда сервер получает сообщение, он помещает его в очередь сообщений локальной учётной записи или пересылает другому серверу, выполнив такой же процесс установки SMTP-соединения.</p>
		<div class="image" style="margin:20px 0;">
				<a id="img6.5"></a>
				<img  align="center" src="images/img6.5.png" />
				<p>Рисунок 6.5</p>
			</div>
		<p>Целевой сервер электронной почты в момент доставки сообщения может оказаться недоступен или перегружен. На этот случай в SMTP предусмотрено временное хранение сообщений с последующей повторной отправкой. Периодически сервер проверяет очередь сообщений и пытается отправить их повторно. Если сообщение не удаётся доставить в течение установленного времени, оно возвращается отправителю с уведомлением о невозможности доставки.</p>
		<p>Протокол POP позволяет рабочим станциям получать сообщения электронной почты с серверов электронной почты. При использовании протокола POP сообщения загружаются клиентом с сервера и удаляются на сервере.</p>
		<div class="image" style="margin:20px 0;">
				<a id="img6.6"></a>
				<img  align="center" src="images/img6.6.png" />
				<p>Рисунок 6.6</p>
			</div>
		<p>Сетевой сервис POP на сервере пассивно ожидает запросов подключения клиентов к TCP-порту 110. Для использования этого сетевого сервиса клиент запрашивает TCP-соединение с сервером. После установки соединения сервер POP посылает приветствие. Затем клиент и сервер POP обмениваются командами и откликами, пока подключение не будет закрыто или прервано.</p>
		<p>Так как сообщения электронной почты загружаются клиентом и удаляются с сервера, это означает, что они не хранятся централизованно. По этой причине протокол POP нецелесообразен в решении для малого бизнеса с централизованным резервным копированием.</p>
<p>Протокол POP3 подходит для использования интернет-провайдером, поскольку он снимает с него ответственность за хранение большого объёма данных на серверах электронной почты.</p>
			<p>Протокол доступа к сообщениям в Интернете (IMAP) предусматривает другой метод извлечения почтовых сообщений с сервера. Его отличие от POP состоит в том, что при подключении пользователя к серверу IMAP в клиентское приложение загружаются только копии сообщений. Исходные сообщения остаются на сервере до тех пор, пока они не будут удалены вручную. Пользователи просматривают копии сообщений в клиентах электронной почты.</p>
			<div class="image" style="margin:20px 0;">
				<a id="img6.7"></a>
				<img  align="center" src="images/img6.7.png" />
				<p>Рисунок 6.7</p>
			</div>
			<p>Пользователи могут организовать на сервере иерархическую файловую структуру для упорядочения и хранения почты. Эта структура также дублируется клиентом электронной почты. Если пользователь решает удалить сообщение, оно синхронно удаляется из клиента и с сервера.</p>
			<p>Малым и средним предприятиям протокол IMAP предоставляет множество преимуществ. IMAP обеспечивает долгосрочное хранение почтовых сообщений на серверах электронной почты и их централизованное резервное копирование. Он также позволяет сотрудникам работать с сообщениями из любого места, используя различные устройства и клиентское ПО. Привычная для пользователя структура папок почтового ящика не зависит от того, каким образом пользователь обращается к почтовому ящику.</p>
			<p>Для интернет-провайдера протокол IMAP, возможно, не является лучшим выбором. Могут потребоваться существенные затраты на приобретение и обслуживание крупных дисковых хранилищ для большого объёма корреспонденции. Кроме того, если клиенты требуют регулярного резервного копирования своих почтовых ящиков, затраты интернет-провайдера возрастут ещё больше.</p>
			<p class="paragraph">Протокол передачи файлов (FTP)</p>
			<p class="termin"><b>Протокол передачи файлов (FTP) </b>— другой распространённый протокол уровня приложений. FTP был разработан для передачи данных между клиентом и сервером. </p>
			<p class="termin"><b>FTP-клиент</b> — это приложение, которое запускается на компьютере, а также отправляет и принимает данные с сервера, на котором запущена служба FTP.</p>
			<p>Как показано на рисунке 6.8, для передачи данных по FTP требуется два соединения между клиентом и сервером: одно для команд и ответов, другое — для фактической передачи файлов.</p>
			<ul>
			<li>Клиент устанавливает первое соединение с сервером для управления трафиком, который состоит из команд клиента и ответов сервера.</li>
			<li>Затем клиент устанавливает второе соединение с сервером для непосредственной передачи данных. Это подключение создаётся для каждой передачи данных.</li>
			</ul>
			<div class="image" style="margin:20px 0;">
				<a id="img6.8"></a>
				<img  align="center" src="images/img6.8.png" />
				<p>Рисунок 6.8</p>
			</div>
			<p>Данные могут передаваться в любом направлении. Клиент может загрузить (принять) данные с сервера или отправить данные на сервер.</p>
			<p class="paragraph">Протокол обмена блоками серверных сообщений</p>
			<p class="termin"><b>Протокол обмена блоками серверных сообщений (SMB)</b> — это протокол обмена файлами между клиентом и сервером, который был разработан компанией IBM в конце 1980-х годов для описания структуры общих ресурсов сети, таких как каталоги, файлы, принтеры и последовательные порты. Это протокол типа «запрос-ответ».</p>
			<p>Протокол SMB описывает доступ к файловой системе и способ запроса файлов клиентами. Он также описывает связь между процессами SMB. Все сообщения SMB имеют общий формат. В этом формате используется фиксированная длина заголовка, после которого следует параметр переменного размера и компонент данных.</p>
			<p>С помощью сообщений SMB можно выполнять следующие действия:</p>
			<ul>
			<li>осуществлять запуск, аутентификацию и завершение сеансов;</li>
			<li>управлять доступом к файлам и принтерам;</li>
			<li>разрешать приложению отправлять сообщения на другое устройство и принимать их.</li>
			</ul>
			<p>Общий доступ к файлам и службам печати на основе SMB является отличительной особенностью сетей Microsoft. Начиная с серии систем Windows 2000, компания Microsoft изменила базовую архитектуру для использования протокола SMB. В предыдущих версиях продуктов Microsoft в службах SMB для разрешения имён использовался протокол, отличный от TCP/IP и не использовался сервис DNS. Начиная с версии Windows 2000, во всех последующих продуктах Microsoft используется система имён DNS, которая позволяет протоколам стека TCP/IP напрямую поддерживать общие ресурсы SMB, как показано на рисунке 6.9. </p>
			<div class="image" style="margin:20px 0;">
				<a id="img6.9"></a>
				<img  align="center" src="images/img6.9.png" />
				<p>Рисунок 6.9</p>
			</div>
			<p>На рисунке 6.10 показан процесс обмена файлами по SMB между компьютерами с операционной системой Windows.</p>
			<div class="image" style="margin:20px 0;">
				<a id="img6.10"></a>
				<img  align="center" src="images/img6.10.png" />
				<p>Рисунок 6.10</p>
			</div>
			<p>В отличие от обмена файлами по протоколу FTP, клиенты устанавливают долговременное подключение к серверам. После установки соединения пользователь может получить доступ к ресурсам на сервере, если этот ресурс является локальным по отношению к узлу клиента.</p>
			<p>Операционные системы LINUX и UNIX также позволяют открывать общий доступ к ресурсам в сетях Microsoft, используя версию SMB под названием SAMBA. Операционные системы Apple Macintosh также поддерживают работу с общими ресурсами по протоколу SMB.</p>
			
		</section>
	</body>
</html>
